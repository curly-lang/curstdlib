module Main
import Temp::Cons_Boxes

type StringChar = Char | ((StringChar -> StringChar -> StringChar) -> StringChar)
type String = (StringChar -> StringChar -> StringChar) -> StringChar

@pure
extern "__curly_prim__get_uwu"
__prim__get_uwu : ptr String

main = 
  let str = cons_S 'a' $ cons_S 'z' '\0'
  in
  debug str;
  debug (car_S str);
  debug (car_S (reverse str));
  let v = c_to_cons __prim__get_uwu
  in
    debug $ car_S v;
    debug $ car_S $ cdr_S v;
    debug $ car_S $ cdr_S $ cdr_S v;
    debug $ car_S $ cdr_S $ cdr_S $ cdr_S v;
    debug $ car_S $ cdr_S $ cdr_S $ cdr_S $ cdr_S v;
  enum Ok
